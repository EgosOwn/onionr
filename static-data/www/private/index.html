<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
        Onionr
    </title>
    <link rel="shortcut icon" type="image/ico" href="/shared/images/favicon.ico">
    <link rel="stylesheet" href="/private/main.css">
    <link rel="stylesheet" href="/shared/fontawesome-free-5.10.2/css/all.min.css">
    <link rel="stylesheet" href="/shared/main/PNotifyBrightTheme.css">
    <link rel="stylesheet" href="/shared/bulma-quickview.min.css">
    <link rel="stylesheet" href="/shared/bulma-tooltip.min.css">
    <link rel="stylesheet" href="/gettheme">
    <link rel="stylesheet" href="/shared/sidebar/sidebar.css">
    <script defer src="/shared/node_modules/pnotify/dist/iife/PNotify.js"></script>
    <script defer src="/shared/node_modules/pnotify/dist/iife/PNotifyButtons.js"></script>
    <script defer src="/shared/bulma-quickview.js"></script>
    <script defer src="/shared/eventsource.js"></script>
    <script defer src="/shared/main/particles.js"></script>
    <script defer src="/shared/loadabout.js"></script>
    <script defer src="/shared/misc.js"></script>
    <script defer src="/shared/getos.js"></script>
    <script defer src="/shared/main/stats.js"></script>
    <script defer src="/shared/main/recent.js"></script>
    <script defer src="/shared/main/torstats.js"></script>
    <script defer src="/shared/panel.js"></script>
    <script defer src="/shared/configeditor.js"></script>
    <script defer src="/shared/sites.js"></script>
    <script defer src="/shared/main/apicheck.js"></script>
    <script defer src="/private/js/console.js"></script>
    <script defer src="/private/js/motd.js"></script>
    <script defer src="/shared/navbar.js"></script>
    <script defer src="/shared/sidebar/sidebar.js"></script>
    <script defer src="/shared/main/loadTransport.js"></script>
    <script>alert("Content security policy appears to not be working. Your browser security is weak!")</script>
</head>

<body>
    <div id="shutdownNotice" class="overlay">
        <div>
            <p>Your node will shutdown. Thank you for using Onionr.</p>
            <p>If you are using random bind IPs (default in non dev mode), Onionr will have a different URL next time.</p>
        </div>
    </div>
    <span id="sidebarContainer"></span>
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item idLink" href="/">
                <img src="/shared/images/favicon.ico" class="navbarLogo">
            </a>

            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasic">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasic" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item idLink" href="/mail/">Mail</a>
                <a class="navbar-item idLink" href="/friends/">Friends</a>
                <a class="navbar-item idLink" href="/board/">Circles</a>
            </div>
            <div class="navbar-end">
                <a class="navbar-item idLink aboutLink">About</a>
            </div>
        </div>
    </nav>

    <!--Hero (Dark Bar)-->
    <section class="hero is-small is-dark">
        <div class="hero-body">
            <div class="container">
                <div class="columns">
                    <div class="column">
                        <h1 class="title">
                            Onionr
                        </h1>
                        <h2 class="subtitle">
                            Private Decentralized Communication
                        </h2>
                    </div>
                    <div class="column is-7">
                        <div class="field is-grouped is-grouped-centered">
                            <p class="control">
                                <a class="button is-danger is-outlined" id="shutdownNode">
                                    Shutdown
                                </a>
                            </p>
                            <p class="control">
                                <a class="button is-warning is-outlined" id="restartNode">
                                    Restart
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <br>


    <!--Start of content-->
    <div class="container mainCont">
        <div class="columns">
            <div class="column">
                <!--Onionr Card-->
                <div class="card">
                    <header class="card-header">
                        <span class="card-header-icon">
                            <span class="icon">
                                <i class="fas fa-link"></i>
                            </span>
                        </span>
                        <p class="card-header-title">
                            Onionr Sites
                        </p>
                    </header>
                    <div class="card-content">
                        <div class="content">
                            <div class="field" data-tooltip="Site public key or hash (not onion)">
                                <label class="label">Open Site</label>
                                <div class="field has-addons">
                                    <p class="control is-expanded">
                                        <input class="input" type="text" id="siteViewer" placeholder="Site ID">
                                    </p>
                                    <p class="control">
                                        <a id="openSite" class="button is-info">Open</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card motdCard">
                    <header class="card-header">
                        <span class="card-header-icon">
                            <span class="icon">
                                <i class="fas fa-newspaper"></i>
                            </span>
                        </span>
                        <p class="card-header-title" title="message of the day">
                            Onionr MOTD
                        </p>
                    </header>
                    <div class="card-content">
                        <div class="content motdContent">
                            No MOTD currently.
                        </div>
                    </div>
                </div>
                <br>
                <div class="card transportCard">
                    <header class="card-header">
                        <span class="card-header-icon">
                            <span class="icon">
                                <img src="/shared/images/privacy.png" alt="">
                            </span>
                        </span>
                        <p class="card-header-title">
                            Networking Statistics
                        </p>
                    </header>
                    <div class="card-content">
                        <div class="content torInfo">
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="card">
                    <header class="card-header">
                        <span class="card-header-icon">
                            <span class="icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </span>
                        </span>
                        <p class="card-header-title">
                            Dashboard
                        </p>
                    </header>
                    <div class="card-content">
                        <div class="content">
                            <div class="columns">
                                <div class="column">
                                    <div class="field">
                                        <div class="field has-addons">
                                            <p class="control">
                                                <a class="button is-static">
                                                    <i class="fas fa-fingerprint"></i>
                                                </a>
                                            </p>
                                            <p class="control is-expanded">
                                                <input id="myPub" class="input myPub" type="text" readonly>
                                            </p>
                                            <p class="control">
                                                <a id="myPubCopy" class="button is-primary"><i class="fas fa-copy"></i></a>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="columns">
                                <div class="column">
                                    <span class="icon">
                                        <i class="fas fa-lock"></i>
                                    </span>
                                    Security level: <span id="securityLevel"></span>
                                </div>
                                <div class="column">
                                    <i class="fas fa-clock"></i>
                                    Uptime: <span id="uptime"></span>
                                </div>
                            </div>
                            <!--
                            <div class="columns">
                                <div class="column">
                                    <div class="field has-addons">
                                        <p class="control">
                                          <button class="button is-info">
                                            <span class="icon is-small">
                                              <i class="fas fa-cubes"></i>
                                            </span>
                                            <span>Blocks</span>
                                          </button>
                                        </p>
                                        <p class="control">
                                          <button class="button is-info">
                                            <span class="icon is-small">
                                              <i class="fas fa-book-open"></i>
                                            </span>
                                            <span>Help Book</span>
                                          </button>
                                        </p>
                                      </div>
                                </div>
                            </div>
                            -->
                            <h4>Connections</h4>
                            <div class="columns">
                                <div class="column">
                                    ️ Last Received: <span id="lastIncoming">None since start</span>
                                </div>
                                <div class="column">
                                    <i class="fas fa-arrow-down"></i>
                                     Total Requests: <span id="totalRec">None since start</span>
                                </div>
                            </div>

                            <div class="field has-addons torTransportField">
                                <p class="control">
                                    <a class="button is-static">
                                        <i class="fas fa-adjust"></i>
                                    </a>
                                </p>
                                <p class="control is-expanded">
                                    <input class="input myTor" type="text" readonly>
                                </p>
                                <p class="control">
                                    <a class="button is-primary myTorCopy"><i class="fas fa-copy"></i></a>
                                </p>
                            </div>

                            <i class="fas fa-link"></i>
                            Outgoing Connections:
                            <div class="container connectedNodesControl">
                                <pre id="connectedNodes">Unable to get nodes</pre>
                            </div>
                            <br>
                            <div class="field">
                                <p class="control">
                                    <a class="button is-light restartTor" data-tooltip="Use if there have been no incoming or outgoing connections in a long time">Restart Tor</a>
                                </p>
                            </div>
                            <br>
                            <h4>Blocks</h4>
                            <div class="columns">
                                <div class="column">
                                    <i class="fas fa-hdd"></i>
                                    Stored blocks: <span id="storedBlocks"></span>
                                </div>
                                <div class="column">
                                    <i class="fas fa-mail-bulk"></i>
                                    Blocks to download: <span id="blockQueue"></span>
                                </div>
                            </div>
                            <div class="columns">
                                <div class="column">
                                    <p class="buttons">
                                        <button class="button is-small recentBlocksBtn">
                                          <span class="icon is-small">
                                            <i class="fas fa-stream"></i>
                                          </span>
                                          <span>Recent blocks</span>
                                        </button>
                                    </p>
                                </div>
                            </div>
                            <h4>Process</h4>
                            <div class="columns">
                                <div class="column">
                                    <i class="fas fa-microchip"></i>
                                    Current threads: <span id="threads"></span>
                                </div>
                                <div class="column">
                                    <i class="fas fa-memory"></i>
                                    RAM usage: <span id="ramPercent"></span>
                                </div>
                            </div>
                            <h4>Storage</h4>
                            <div class="columns">
                                <div class="column">
                                    <i class="fas fa-folder-open"></i>
                                    File descriptors: <span id="fileDescriptors"></span>
                                </div>
                                <div class="column">
                                    <i class="fas fa-hdd"></i>
                                    Disk Usage: <span id="diskUsage"></span>
                                </div>
                        </div>
                    </div>

                    <a class="button is-white" id="configToggle">Configuration</a>

            <div id="configContent">
                <div class="content">
                    <p><em>Warning: </em><b>Some values can be dangerous to change. Use caution.</b></p>
                    <textarea class="textarea configEditor" rows="20"></textarea>
                    <br>
                    <a class="button is-primary saveConfig">Save Config</a>
                </div>
            </div>
        </div>
        </div>
    </div>
    </div>
    </div>
    <div id="particles-js"></div>
    <br>
    <div class="modal aboutModal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <button class="closeAboutModal delete" aria-label="close"></button>
          </header>
          <section class="modal-card-body aboutBody">
            Loading... <i class="fas fa-spinner fa-spin"></i>
          </section>
        </div>
    </div>
    <div class="modal recentModal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <button class="closeRecentModal delete" aria-label="close"></button>
          </header>
          <section class="modal-card-body recentBody">
                Keep this open to see new blocks as they come in (or are created)!
              <pre class="recentBlockList"></pre>
          </section>
        </div>
    </div>
</body>

</html>