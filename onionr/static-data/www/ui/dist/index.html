<!DOCTYPE html>
<html>
    <head>
        <title>Onionr UI</title>

        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
        <link rel="stylesheet" type="text/css" href="css/main.css" />
        <link rel="stylesheet" type="text/css" href="css/themes/dark.css" />


        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="#">Onionr</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="index.html">Timeline</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="notifications.html">Notifications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="messages.html">Messages</a>
                    </li>
                </ul>
            </div>
        </nav>

    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3">
                    <div class="onionr-profile">
                        <div class="row">
                            <div class="col-4 col-lg-12">
                                <img id="onionr-profile-user-icon" class="onionr-profile-user-icon" src="">
                            </div>
                            <div class="col-8 col-lg-12">
                                <h2 maxlength="25" id="onionr-profile-username" class="onionr-profile-username text-left text-lg-center text-sm-left" data-placement="top" data-toggle="tooltip" title="unknown" data-editable></h2>
                            </div>
                            <div class="col-12">
                                <p maxlength="128" id="onionr-profile-description" class="onionr-profile-description" data-editable></p>
                            </div>

                            <div class="col-12 onionr-profile-edit" id="onionr-profile-edit" style="display: none">
                                <div class="row">
                                    <div class="col-sm-6 col-lg-12">
                                        <input type="button" onclick="updateUser()" class="onionr-profile-save text-center" id="onionr-profile-save" value="Save" />
                                    </div>
                                    <div class="col-sm-6 col-lg-12">
                                        <input type="button" onclick="cancelUpdate()" class="onionr-profile-save text-center" id="onionr-profile-cancel" value="Cancel" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="h-divider pb-3 d-block d-lg-none"></div>

                <div class="col-sm-12 col-lg-6">
                    <div class="row" id="onionr-timeline-post-creator">
                        <div class="col-12">
                            <div class="onionr-timeline">
                                <h2>Timeline</h2>
                            </div>
                        </div>

                        <!-- POST CREATOR -->
                        <div class="col-12">
                            <div class="onionr-post-creator">
                                <div class="row">
                                    <div class="col-2">
                                        <img class="onionr-post-creator-user-icon" id="onionr-post-creator-user-icon">
                                    </div>
                                    <div class="col-10">
                                        <div class="row">
                                            <div class="col col-auto">
                                                <a class="onionr-post-creator-user-name" id="onionr-post-creator-user-name" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url')"></a>
                                                <a class="onionr-post-creator-user-id" id="onionr-post-creator-user-id" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url')" data-placement="top" data-toggle="tooltip" title="$user-id">you</a>
                                            </div>
                                        </div>

                                        <textarea class="onionr-post-creator-content" id="onionr-post-creator-content" oninput="postCreatorChange()"></textarea>

                                        <div class="onionr-post-creator-content-message" id="onionr-post-creator-content-message"></div>

                                        <input type="button" onclick="makePost()" title="Create post" value="Create post" id="onionr-post-creator-create" class="onionr-post-creator-create" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END POST CREATOR -->
                    </div>

                    <div class="row" id="onionr-timeline-posts">

                    </div>
                </div>

                <div class="d-none d-lg-block col-lg-3">
                    <div class="row">
                        <div class="col-12">
                            <div class="onionr-replies">
                                <h2 id="onionr-replies-title"></h2>
                            </div>
                        </div>

                        <div id="onionr-reply-creator-panel">

                        </div>
                    </div>

                    <div class="row">

                    </div>
                </div>
            </div>
        </div>

        <!-- POST FOCUS DIALOG -->
        <div class="modal fade" id="onionr-post-focus" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="row p-3">
                        <div class="col-2">
                            <img src="" id="onionr-post-focus-user-icon" class="onionr-post-user-icon">
                        </div>
                        <div class="col-10">
                            <div class="row">
                                <div class="col col-auto">
                                    <a class="onionr-post-user-name" id="onionr-post-focus-user-name" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url'); jQuery('#onionr-post-focus').modal('hide');">$user-name</a>
                                    <a class="onionr-post-user-id" id="onionr-post-focus-user-id" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url'); jQuery('#onionr-post-focus').modal('hide');" data-placement="top" data-toggle="tooltip" title="$user-id">$user-id-truncated</a>
                                </div>

                                <div class="col col-auto text-right ml-auto pl-0">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                            </div>
                            <div class="onionr-post-content" id="onionr-post-focus-content">

                            </div>
                        </div>

                        <hr class="col-12 onionr-post-focus-separator" />

                        <!-- POST FOCUS REPLIES -->
<div class="col-12">
    <div class="row">
        <div class="onionr-post-focus-reply-creator">
            <div class="row">
                <div class="col-1"></div>
                <div class="col-2">
                    <img class="onionr-post-creator-user-icon" id="onionr-post-focus-reply-creator-user-icon">
                </div>
                <div class="col-9">
                    <div class="row">
                        <div class="col col-auto">
                            <a class="onionr-post-creator-user-name" id="onionr-post-focus-reply-creator-user-name" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url')"></a>
                            <a class="onionr-post-creator-user-id" id="onionr-post-focus-reply-creator-user-id" href="#!" onclick="viewProfile('$user-id-url', '$user-name-url')" data-placement="top" data-toggle="tooltip" title="$user-id">you</a>
                        </div>
                    </div>

                    <textarea class="onionr-post-creator-content" id="onionr-post-focus-reply-creator-content" oninput="focusReplyCreatorChange()"></textarea>

                    <div class="onionr-post-creator-content-message" id="onionr-post-focus-reply-creator-content-message"></div>

                    <input type="button" onclick="makeFocusReply()" title="Reply" value="Reply" id="onionr-post-focus-reply-creator-create" class="onionr-post-creator-create" />
                </div>
            </div>
        </div>

        <div class="onionr-post-focus-replies"></div>
    </div>
</div>
<!-- END POST FOCUS REPLIES -->

                    </div>
                </div>
            </div>
        </div>
        <!-- END POST FOCUS DIALOG -->

        <!-- Modal -->
        <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal-title">Loading...</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="modal-content">Onionr has begun performing a CPU-intensive operation. If this operation does not complete in the next 10 seconds, try reloading the page.</div>
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script src="js/main.js"></script>

        <script src="js/timeline.js"></script>
    </body>
</html>
